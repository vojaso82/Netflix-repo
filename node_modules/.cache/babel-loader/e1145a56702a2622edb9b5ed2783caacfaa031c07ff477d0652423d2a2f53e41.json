{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vojis/OneDrive/Desktop/Project/netflix/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/vojis/OneDrive/Desktop/Project/netflix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vojis/OneDrive/Desktop/Project/netflix/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{toast}from\"react-toastify\";import getNetflixData from\"../api\";import{isNil,isNotNil}from\"../utils\";import{Link}from\"react-router-dom\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Repositories(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),repos=_useState2[0],setRepos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),originalRepos=_useState4[0],setOriginalRepos=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),inputValue=_useState6[0],setInputValue=_useState6[1];var getNetflixDataResponse=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var netflixData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getNetflixData();case 3:netflixData=_context.sent;if(!isNil(netflixData)){_context.next=8;break;}return _context.abrupt(\"return\",toast(\"Error getting netflix list\",{type:toast.TYPE.ERROR}));case 8:setRepos(netflixData);setOriginalRepos(netflixData);case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);toast(_context.t0.message||_context.t0.msg||_context.t0.toString()||\"Error getting data\",{type:toast.TYPE.ERROR});case 16:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function getNetflixDataResponse(){return _ref.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){setInputValue(e.target.value);if(isNil(e.target.value)){setRepos(originalRepos);}var filteredList=repos.filter(function(item){return item.name.toLowerCase().includes(e.target.value.toLowerCase());});setRepos(filteredList);};//Return back old state when deleting input values on change on inputValues and originalRepos\nuseEffect(function(){if(isNil(inputValue)){setRepos(originalRepos);}},[inputValue,originalRepos]);//Render api data on page load\nuseEffect(function(){getNetflixDataResponse();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.mainDiv,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://avatars.githubusercontent.com/u/913567?v=4\",alt:\"Netflix image\",width:\"100\",height:\"80\"}),/*#__PURE__*/_jsx(\"h1\",{style:{color:\"red\"},children:\"Netflix Github Repositories:\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Search repos: \"}),/*#__PURE__*/_jsx(\"input\",{style:{borderRadius:5},type:\"text\",value:inputValue,placeholder:\"Type here to search\",onChange:function onChange(e){return handleInputChange(e);}})]}),/*#__PURE__*/_jsx(\"div\",{children:isNotNil(repos)?repos.sort(function(itemA,itemB){return itemB.forks_count-itemA.forks_count;}).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(Link,{style:styles.links,to:\"/commits/\".concat(item.id),children:/*#__PURE__*/_jsxs(\"li\",{children:[\"Repo name: \",item.name,\" \"]},item.id)}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Language: \",item.language]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",item.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Star Count: \",item.stargazers_count]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Fork Count: \",item.forks_count]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date Created: \",moment(item===null||item===void 0?void 0:item.created_at).format(\"MM/DD/YYYY\")]})]});}):isNil(originalRepos.length)?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading\"}):/*#__PURE__*/_jsx(\"h2\",{children:\"No matches found\"})})]});}var styles={links:{textDecoration:\"none\",fontWeight:\"bold\"},mainDiv:{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",backgroundColor:\"black\",paddingLeft:\"20px\"},container:{width:\"60\",border:\"1px solid rgba(0, 0, 0, 0.12)\",borderRadius:\"16px\",padding:\"15px\",backgroundColor:\"#008BC0\"}};export default Repositories;","map":{"version":3,"names":["React","useState","useEffect","toast","getNetflixData","isNil","isNotNil","Link","moment","Repositories","repos","setRepos","originalRepos","setOriginalRepos","inputValue","setInputValue","getNetflixDataResponse","netflixData","type","TYPE","ERROR","console","log","message","msg","toString","handleInputChange","e","target","value","filteredList","filter","item","name","toLowerCase","includes","styles","mainDiv","color","marginBottom","borderRadius","sort","itemA","itemB","forks_count","map","container","links","id","language","description","stargazers_count","created_at","format","length","textDecoration","fontWeight","display","justifyContent","alignItems","backgroundColor","paddingLeft","width","border","padding"],"sources":["C:/Users/vojis/OneDrive/Desktop/Project/netflix/src/components/Repositories.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport getNetflixData from \"../api\";\r\nimport { isNil, isNotNil } from \"../utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\nfunction Repositories() {\r\n  const [repos, setRepos] = useState([]);\r\n  const [originalRepos, setOriginalRepos] = useState([]);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  const getNetflixDataResponse = async () => {\r\n    try {\r\n      const netflixData = await getNetflixData();\r\n      if (isNil(netflixData)) {\r\n        return toast(\"Error getting netflix list\", {\r\n          type: toast.TYPE.ERROR,\r\n        });\r\n      } else {\r\n        setRepos(netflixData);\r\n        setOriginalRepos(netflixData);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      toast(err.message || err.msg || err.toString() || \"Error getting data\", {\r\n        type: toast.TYPE.ERROR,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n    if (isNil(e.target.value)) {\r\n      setRepos(originalRepos);\r\n    }\r\n    const filteredList = repos.filter((item) =>\r\n      item.name.toLowerCase().includes(e.target.value.toLowerCase())\r\n    );\r\n    setRepos(filteredList);\r\n  };\r\n\r\n  //Return back old state when deleting input values on change on inputValues and originalRepos\r\n  useEffect(() => {\r\n    if (isNil(inputValue)) {\r\n      setRepos(originalRepos);\r\n    }\r\n  }, [inputValue, originalRepos]);\r\n\r\n  //Render api data on page load\r\n  useEffect(() => {\r\n    getNetflixDataResponse();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div style={styles.mainDiv}>\r\n        <img\r\n          src=\"https://avatars.githubusercontent.com/u/913567?v=4\"\r\n          alt=\"Netflix image\"\r\n          width=\"100\"\r\n          height=\"80\"\r\n        />\r\n        <h1 style={{ color: \"red\" }}>Netflix Github Repositories:</h1>\r\n      </div>\r\n      <div style={{ marginBottom: \"20px\" }}>\r\n        <p>Search repos: </p>\r\n        <input\r\n          style={{ borderRadius: 5 }}\r\n          type=\"text\"\r\n          value={inputValue}\r\n          placeholder=\"Type here to search\"\r\n          onChange={(e) => handleInputChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        {isNotNil(repos) ? (\r\n          repos\r\n            .sort((itemA, itemB) => itemB.forks_count - itemA.forks_count)\r\n            .map((item) => (\r\n              <div style={styles.container}>\r\n                <Link style={styles.links} to={`/commits/${item.id}`}>\r\n                  <li key={item.id}>Repo name: {item.name} </li>\r\n                </Link>\r\n                <p>Language: {item.language}</p>\r\n                <p>Description: {item.description}</p>\r\n                <p>Star Count: {item.stargazers_count}</p>\r\n                <p>Fork Count: {item.forks_count}</p>\r\n                <p>\r\n                  Date Created: {moment(item?.created_at).format(\"MM/DD/YYYY\")}\r\n                </p>\r\n              </div>\r\n            ))\r\n        ) : isNil(originalRepos.length) ? (\r\n          <h2>Loading</h2>\r\n        ) : (\r\n          <h2>No matches found</h2>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  links: {\r\n    textDecoration: \"none\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  mainDiv: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"black\",\r\n    paddingLeft: \"20px\",\r\n  },\r\n  container: {\r\n    width: \"60\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    borderRadius: \"16px\",\r\n    padding: \"15px\",\r\n    backgroundColor: \"#008BC0\",\r\n  },\r\n};\r\n\r\nexport default Repositories;\r\n"],"mappings":"+ZAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAOC,eAAc,KAAM,QAAQ,CACnC,OAASC,KAAK,CAAEC,QAAQ,KAAQ,UAAU,CAC1C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,OAAM,KAAM,QAAQ,CAAC,wFAE5B,QAASC,aAAY,EAAG,CACtB,cAA0BR,QAAQ,CAAC,EAAE,CAAC,wCAA/BS,KAAK,eAAEC,QAAQ,eACtB,eAA0CV,QAAQ,CAAC,EAAE,CAAC,yCAA/CW,aAAa,eAAEC,gBAAgB,eACtC,eAAoCZ,QAAQ,CAAC,EAAE,CAAC,yCAAzCa,UAAU,eAAEC,aAAa,eAEhC,GAAMC,uBAAsB,4FAAG,0LAEDZ,eAAc,EAAE,QAApCa,WAAW,mBACbZ,KAAK,CAACY,WAAW,CAAC,yDACbd,KAAK,CAAC,4BAA4B,CAAE,CACzCe,IAAI,CAAEf,KAAK,CAACgB,IAAI,CAACC,KACnB,CAAC,CAAC,SAEFT,QAAQ,CAACM,WAAW,CAAC,CACrBJ,gBAAgB,CAACI,WAAW,CAAC,CAAC,yFAGhCI,OAAO,CAACC,GAAG,aAAK,CAChBnB,KAAK,CAAC,YAAIoB,OAAO,EAAI,YAAIC,GAAG,EAAI,YAAIC,QAAQ,EAAE,EAAI,oBAAoB,CAAE,CACtEP,IAAI,CAAEf,KAAK,CAACgB,IAAI,CAACC,KACnB,CAAC,CAAC,CAAC,oEAEN,kBAjBKJ,uBAAsB,0CAiB3B,CAED,GAAMU,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,CAAC,CAAK,CAC/BZ,aAAa,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC7B,GAAIxB,KAAK,CAACsB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAE,CACzBlB,QAAQ,CAACC,aAAa,CAAC,CACzB,CACA,GAAMkB,aAAY,CAAGpB,KAAK,CAACqB,MAAM,CAAC,SAACC,IAAI,QACrCA,KAAI,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACR,CAAC,CAACC,MAAM,CAACC,KAAK,CAACK,WAAW,EAAE,CAAC,GAC/D,CACDvB,QAAQ,CAACmB,YAAY,CAAC,CACxB,CAAC,CAED;AACA5B,SAAS,CAAC,UAAM,CACd,GAAIG,KAAK,CAACS,UAAU,CAAC,CAAE,CACrBH,QAAQ,CAACC,aAAa,CAAC,CACzB,CACF,CAAC,CAAE,CAACE,UAAU,CAAEF,aAAa,CAAC,CAAC,CAE/B;AACAV,SAAS,CAAC,UAAM,CACdc,sBAAsB,EAAE,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,oCACE,aAAK,KAAK,CAAEoB,MAAM,CAACC,OAAQ,wBACzB,YACE,GAAG,CAAC,oDAAoD,CACxD,GAAG,CAAC,eAAe,CACnB,KAAK,CAAC,KAAK,CACX,MAAM,CAAC,IAAI,EACX,cACF,WAAI,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,UAAC,8BAA4B,EAAK,GAC1D,cACN,aAAK,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAO,CAAE,wBACnC,mBAAG,gBAAc,EAAI,cACrB,cACE,KAAK,CAAE,CAAEC,YAAY,CAAE,CAAE,CAAE,CAC3B,IAAI,CAAC,MAAM,CACX,KAAK,CAAE1B,UAAW,CAClB,WAAW,CAAC,qBAAqB,CACjC,QAAQ,CAAE,kBAACa,CAAC,QAAKD,kBAAiB,CAACC,CAAC,CAAC,EAAC,EACtC,GACE,cACN,qBACGrB,QAAQ,CAACI,KAAK,CAAC,CACdA,KAAK,CACF+B,IAAI,CAAC,SAACC,KAAK,CAAEC,KAAK,QAAKA,MAAK,CAACC,WAAW,CAAGF,KAAK,CAACE,WAAW,GAAC,CAC7DC,GAAG,CAAC,SAACb,IAAI,qBACR,aAAK,KAAK,CAAEI,MAAM,CAACU,SAAU,wBAC3B,KAAC,IAAI,EAAC,KAAK,CAAEV,MAAM,CAACW,KAAM,CAAC,EAAE,oBAAcf,IAAI,CAACgB,EAAE,CAAG,uBACnD,sBAAkB,aAAW,CAAChB,IAAI,CAACC,IAAI,CAAC,GAAC,GAAhCD,IAAI,CAACgB,EAAE,CAA8B,EACzC,cACP,qBAAG,YAAU,CAAChB,IAAI,CAACiB,QAAQ,GAAK,cAChC,qBAAG,eAAa,CAACjB,IAAI,CAACkB,WAAW,GAAK,cACtC,qBAAG,cAAY,CAAClB,IAAI,CAACmB,gBAAgB,GAAK,cAC1C,qBAAG,cAAY,CAACnB,IAAI,CAACY,WAAW,GAAK,cACrC,qBAAG,gBACa,CAACpC,MAAM,CAACwB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,UAAU,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC,GAC1D,GACA,EACP,CAAC,CACFhD,KAAK,CAACO,aAAa,CAAC0C,MAAM,CAAC,cAC7B,oBAAI,SAAO,EAAK,cAEhB,oBAAI,kBAAgB,EACrB,EACG,GACF,CAEV,CAEA,GAAMlB,OAAM,CAAG,CACbW,KAAK,CAAE,CACLQ,cAAc,CAAE,MAAM,CACtBC,UAAU,CAAE,MACd,CAAC,CACDnB,OAAO,CAAE,CACPoB,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,YAAY,CAC5BC,UAAU,CAAE,QAAQ,CACpBC,eAAe,CAAE,OAAO,CACxBC,WAAW,CAAE,MACf,CAAC,CACDf,SAAS,CAAE,CACTgB,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,+BAA+B,CACvCvB,YAAY,CAAE,MAAM,CACpBwB,OAAO,CAAE,MAAM,CACfJ,eAAe,CAAE,SACnB,CACF,CAAC,CAED,cAAenD,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}