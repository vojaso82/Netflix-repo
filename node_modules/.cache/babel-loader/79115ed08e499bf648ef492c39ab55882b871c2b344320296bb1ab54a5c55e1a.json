{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vojis/OneDrive/Desktop/Project/netflix/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/vojis/OneDrive/Desktop/Project/netflix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/vojis/OneDrive/Desktop/Project/netflix/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,Link}from\"react-router-dom\";import axios from\"axios\";import{isNotNil}from\"../utils\";import{useEffect,useState}from\"react\";import{toast}from\"react-toastify\";import moment from\"moment/moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Commits(){var _commit$owner;var params=useParams();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),commit=_useState2[0],setCommit=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),didCancel=_useState4[0],setDidCancel=_useState4[1];var getCommit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,matchedCommit;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://api.github.com/orgs/Netflix/repos\");case 3:response=_context.sent;if(isNotNil(response.data)&&!didCancel){matchedCommit=response.data.find(function(each){return each.id===Number(params.id);});setCommit(matchedCommit);}_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);toast(_context.t0.message||_context.t0.msg||_context.t0.toString()||\"Error getting api data\",{type:toast.TYPE.ERROR});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getCommit(){return _ref.apply(this,arguments);};}();//Render api data on page load\nuseEffect(function(){getCommit();return function(){setDidCancel(true);};},[]);return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{style:styles.backButton,children:\"Back\"})}),/*#__PURE__*/_jsx(\"br\",{}),commit?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"p\",{style:styles.description,children:\"Commit Title:\"}),commit.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"p\",{style:styles.description,children:\"Committer username:\"}),commit===null||commit===void 0?void 0:(_commit$owner=commit.owner)===null||_commit$owner===void 0?void 0:_commit$owner.login]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"p\",{style:styles.description,children:\"Commit hash:\"}),commit.node_id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"p\",{style:styles.description,children:\"Date Created:\"}),moment(commit===null||commit===void 0?void 0:commit.created_at).format(\"MM/DD/YYYY\")]})]}):/*#__PURE__*/_jsx(\"p\",{style:styles.description,children:\"Loading....\"})]});}var styles={container:{width:\"60\",border:\"1px solid rgba(0, 0, 0, 0.12)\",borderRadius:\"16px\",padding:\"15px\",backgroundColor:\"rgb(0, 238, 193, 0.4)\"},backButton:{borderRadius:\"16px\",color:\"blue\",textTransform:\"none\",height:\"35px\",width:\"90px\",boxShadow:\"none\",fontWeight:600},description:{fontWeight:\"bold\"}};export default Commits;","map":{"version":3,"names":["useParams","Link","axios","isNotNil","useEffect","useState","toast","moment","Commits","params","commit","setCommit","didCancel","setDidCancel","getCommit","get","response","data","matchedCommit","find","each","id","Number","console","log","message","msg","toString","type","TYPE","ERROR","styles","container","backButton","description","name","owner","login","node_id","created_at","format","width","border","borderRadius","padding","backgroundColor","color","textTransform","height","boxShadow","fontWeight"],"sources":["C:/Users/vojis/OneDrive/Desktop/Project/netflix/src/components/Commits.js"],"sourcesContent":["import { useParams, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { isNotNil } from \"../utils\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport moment from \"moment/moment\";\r\n\r\nfunction Commits() {\r\n  const params = useParams();\r\n  const [commit, setCommit] = useState({});\r\n  const [didCancel, setDidCancel] = useState(false);\r\n\r\n  const getCommit = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"https://api.github.com/orgs/Netflix/repos\"\r\n      );\r\n      if (isNotNil(response.data) && !didCancel) {\r\n        const matchedCommit = response.data.find(\r\n          (each) => each.id === Number(params.id)\r\n        );\r\n        setCommit(matchedCommit);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"error\", err);\r\n      toast(\r\n        err.message || err.msg || err.toString() || \"Error getting api data\",\r\n        {\r\n          type: toast.TYPE.ERROR,\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  //Render api data on page load\r\n  useEffect(() => {\r\n    getCommit();\r\n    return () => {\r\n      setDidCancel(true);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <Link to={\"/\"}>\r\n        <button style={styles.backButton}>Back</button>\r\n      </Link>\r\n      <br />\r\n      {commit ? (\r\n        <div>\r\n          <p>\r\n            <p style={styles.description}>Commit Title:</p>\r\n            {commit.name}\r\n          </p>\r\n          <p>\r\n            <p style={styles.description}>Committer username:</p>\r\n            {commit?.owner?.login}\r\n          </p>\r\n          <p>\r\n            <p style={styles.description}>Commit hash:</p>\r\n            {commit.node_id}\r\n          </p>\r\n          <p>\r\n            <p style={styles.description}>Date Created:</p>\r\n            {moment(commit?.created_at).format(\"MM/DD/YYYY\")}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <p style={styles.description}>Loading....</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    width: \"60\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    borderRadius: \"16px\",\r\n    padding: \"15px\",\r\n    backgroundColor: \"rgb(0, 238, 193, 0.4)\",\r\n  },\r\n  backButton: {\r\n    borderRadius: \"16px\",\r\n    color: \"blue\",\r\n    textTransform: \"none\",\r\n    height: \"35px\",\r\n    width: \"90px\",\r\n    boxShadow: \"none\",\r\n    fontWeight: 600,\r\n  },\r\n  description: {\r\n    fontWeight: \"bold\",\r\n  },\r\n};\r\n\r\nexport default Commits;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}